import telebot
from telebot.types import InlineKeyboardMarkup, InlineKeyboardButton

# –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç–∞
API_TOKEN = '8282810230:AAGXROum1qTWgd_sEdRMVxgTLKNUbEE1VzY'
token_bot = telebot.TeleBot(API_TOKEN)

suits = ['‚ô†Ô∏è', '‚ô•Ô∏è', '‚ô¶Ô∏è', '‚ô£Ô∏è']
deck_of_cards = ['6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A']

@token_bot.message_handler(commands=['start'])
def send_welcome(message):
    user_info = message.from_user.full_name
    token_bot.send_message(message.chat.id, f'–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {user_info}!\n'
                           f'–°–ø–∏—Å–æ–∫ –∏–≥—Ä:\n'
                           f'/21 - –∏–≥—Ä–∞ –≤ 21üÉè\n ')

"""
    r'/21\s+(\d+)$' - —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (—Ä–µ–≥—É–ª—è—Ä–∫–∞)
    \s+ - –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–±–µ–ª–æ–≤;
    (\d+) - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≥—Ä—É–ø–ø—É —á–∏—Å–µ–ª;
    $ - –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏.

    –†–µ–≥—É–ª—è—Ä–∫–∞–º–∏ –≤ Python –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —à–∞–±–ª–æ–Ω—ã, 
        –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ —Ç–µ–∫—Å—Ç–∞ 
        –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤.

    –ü–æ —Å—É—Ç–∏, –Ω–∞—à —à–∞–±–ª–æ–Ω - —ç—Ç–æ –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤,
     –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä–æ–∫—É –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–º—É –ø—Ä–∞–≤–∏–ª—É.
"""
# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /21 —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä: /21 100)
@token_bot.message_handler(regexp=r'/21\s+(\d+)$')
def start_21_game(message):
    # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞–≤–∫—É –≤–≤–µ–¥–µ–Ω–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    bet = message.text.split()[1]

    markup = InlineKeyboardMarkup(row_width=1)
    button1 = InlineKeyboardButton(text='–ó–∞–ø—É—Å—Ç–∏—Ç—å ‚úÖ', callback_data='...')
    button2 = InlineKeyboardButton(text='–û—Ç–º–µ–Ω–∏—Ç—å ‚ùå', callback_data='...')
    markup.add(button1, button2)


    text = f'<b>üçÄ 21 ¬∑ –Ω–∞—á–Ω–∏ –∏–≥—Ä—É!</b>\n<code>¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑</code>\n<b>üí∏ –°—Ç–∞–≤–∫–∞:</b> {bet} p¬¢'

    token_bot.send_message(message.chat.id, text, reply_markup=markup, parse_mode='HTML')


@token_bot.message_handler(commands=['21'])
def game_21(message):
    rule_game = ('<blockquote>‚ùó–¶–µ–ª—å –∏–≥—Ä—ã - –Ω–∞–±—Ä–∞—Ç—å 21 –æ—á–∫–æ –∏–ª–∏ –±–ª–∏–∂–µ –∫ —ç—Ç–æ–º—É —á–∏—Å–ª—É, '
                 '—á–µ–º –¥–∏–ª–µ—Ä, –Ω–µ –ø—Ä–µ–≤—ã—à–∞—è –ª–∏–º–∏—Ç. –ö–∞—Ä—Ç—ã –æ—Ç 2 –¥–æ 10 —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ –Ω–æ–º–∏–Ω–∞–ª—É, '
                 '–≤–∞–ª–µ—Ç –¥–∞—ë—Ç 2 –æ—á–∫–∞, –¥–∞–º–∞ - 3 –æ—á–∫–∞, –∫–æ—Ä–æ–ª—å - 4 –æ—á–∫–∞, —Ç—É–∑ - 11 –∏–ª–∏ 1, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏. '
                 '–ò–≥—Ä–æ–∫ –∏ –¥–∏–ª–µ—Ä –ø–æ–ª—É—á–∞—é—Ç –ø–æ –¥–≤–µ –∫–∞—Ä—Ç—ã, –ø–æ—Å–ª–µ —á–µ–≥–æ –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å '
                 '–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, —Å—Ç—Ä–µ–º—è—Å—å —É–ª—É—á—à–∏—Ç—å —Å–≤–æ–π —Å—á–µ—Ç. –î–∏–ª–µ—Ä '
                 '–æ–±—è–∑–∞–Ω –¥–æ–±–∏—Ä–∞—Ç—å –∫–∞—Ä—Ç—ã, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç 17 –∏–ª–∏ –±–æ–ª–µ–µ –æ—á–∫–æ–≤. –í—ã–∏–≥—Ä—ã–≤–∞–µ—Ç —Ç–æ—Ç, '
                 '—á–µ–π –∏—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç –±–ª–∏–∂–µ –∫ 21, –Ω–æ –ø–µ—Ä–µ–±–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–∑–Ω–∞—á–∞–µ—Ç –ø–æ—Ä–∞–∂–µ–Ω–∏–µ.</blockquote>\n')

    name = message.from_user.first_name
    message_start = (f'üëÄ{name}, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É, –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É:\n\n‚ô•<u><code>/21</code> <b>[—Å—Ç–∞–≤–∫–∞]</b></u>\n–ü—Ä–∏–º–µ—Ä:<code> /21 100</code>\n'
                     f'–ü—Ä–∏–º–µ—Ä:<code> –æ—á–∫–æ 100</code>')

    token_bot.send_message(message.chat.id, rule_game + message_start, parse_mode='HTML')




token_bot.infinity_polling()




